<!DOCTYPE html>

<head>
    <script src="https://broadwayinc.dev/jslib/skapi/latest/skapi.js"></script>
</head>

<body>
    <h1>Create Account</h1>
    <form onsubmit="skapi.signup(event, { confirmation: true, onerror: err => alert(err.message) })" action="login.html">
        <input type="email" name="email" placeholder="E-Mail" required>
        <br>
        <input id="password" type="password" name="password" placeholder="Password" required>
        <br>
        <input id="confirm_password" type="password" placeholder="Confirm Password" required
            onchange="validatePassword()">
        <br>
        <input name="name" placeholder="Your name">
        <br>
        <input type="submit" value="Create Account">
    </form>
</body>
<script>
    let skapi = new Skapi('service_id', 'owners_id');
    function validatePassword() {
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords don't match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }
</script>